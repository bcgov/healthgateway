@{
    var nonceString = ViewData["nonce"];
}
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Description" content="Author: BCGov, Health Gateway of British Columbia">
    <title>@ViewData["Title"] - Health Gateway</title>
    <base href="~/" />
    <script nonce="@nonceString">window.EnvVars = {}; EnvVars.NONCE_ID = '@Html.Raw(nonceString)';</script>

    <environment include="Development">
        <link rel="stylesheet" href="~/dist/vendor.css" asp-append-version="true" />
    </environment>
    <environment include="Production">
        <link rel="stylesheet" href="~/dist/vendor.css.gz" asp-append-version="true" />
        <link rel="stylesheet" href="~/dist/site.css.gz" asp-append-version="true" />
    </environment>

    <!-- Snowplow starts plowing - Standalone vA.2.10.2 -->
    <script type="text/javascript" nonce="@nonceString">
        ; (function (p, l, o, w, i, n, g) {
            if (!p[i]) {
            p.GlobalSnowplowNamespace = p.GlobalSnowplowNamespace || [];
                p.GlobalSnowplowNamespace.push(i); p[i] = function () {
                    (p[i].q = p[i].q || []).push(arguments)
                }; p[i].q = p[i].q || []; n = l.createElement(o); g = l.getElementsByTagName(o)[0]; n.async = 1;
                n.src = w; g.parentNode.insertBefore(n, g)
            }
        }(window, document, "script", "https://sp-js.apps.gov.bc.ca/MDWay3UqFnIiGVLIo7aoMi4xMC4y.js", "snowplow"));
        var collector = 'spt.apps.gov.bc.ca';
        window.snowplow('newTracker', 'rt', collector, {
            appId: "Snowplow_standalone",
            platform: 'web',
            post: true,
            forceSecureTracker: true,
            contexts: {
                webPage: true,
                performanceTiming: true
            }
        });
        window.snowplow('enableActivityTracking', 30, 30); // Ping every 30 seconds after 30 seconds
        window.snowplow('enableLinkClickTracking');
        window.snowplow('trackPageView');
    </script>
    <!-- Snowplow stop plowing -->
</head>
<body class="d-flex flex-column">

    @RenderBody()

    <script src="~/dist/vendor.js.gz" asp-append-version="true"></script>
    @RenderSection("scripts", required: false)
</body>
</html>
