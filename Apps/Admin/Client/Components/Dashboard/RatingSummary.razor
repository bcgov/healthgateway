@inherits Fluxor.Blazor.Web.Components.FluxorComponent

<MudGrid>
    <MudItem xs="1" lg="1" Class="d-flex justify-center justify-center  align-center">
        <MudText data-testid="average-rating" Class="my-3" Typo="Typo.h4" Style="font-weight:bold">@AverageRating</MudText>
    </MudItem>
    <MudItem xs="6" lg="10">
        @for (int i = 5; i >= 1; i--)
        {
            int percentage = RatingDetails[i - 1].Percentage;
            int? count = RatingDetails[i - 1].Count;
            int stars = i;

            <MudGrid>
                <MudItem xs="6" lg="2" Class="d-flex justify-end">
                    @for (int x = 1; x <= stars; x++)
                    {
                        <MudIcon Icon="fas fa-star" Color="Color.Warning" Size="Size.Small" />
                    }
                </MudItem>
                <MudItem xs="6" lg="3" Class="mt-3">
                    <MudProgressLinear Value="@percentage" />
                </MudItem>
                <MudItem xs="6" lg="1" Class="d-flex justify-center">
                    <MudText Typo="Typo.subtitle1">@count</MudText>
                </MudItem>
            </MudGrid>
        }
    </MudItem>
</MudGrid>
<MudGrid>
    <MudItem xs="6" lg="6">
        <MudText Class="my-3 d-flex justify-end" Typo="Typo.subtitle2">@TotalRatings Ratings</MudText>
    </MudItem>
</MudGrid>
