@page "/support"
@attribute [Authorize(Roles = Roles.Admin)]
@inherits Fluxor.Blazor.Web.Components.FluxorComponent

<PageTitle>Support</PageTitle>
<HgPageHeading>Support</HgPageHeading>

<MudForm>
    <MudGrid Spacing="0">
        <MudItem xs="12" sm="3">
            <HgSelect T="UserQueryType" Label="Query Type" @bind-Value="SelectedQueryType">
                @foreach (UserQueryType queryType in QueryTypes)
                {
                    <MudSelectItem Value="@queryType" />
                }
            </HgSelect>
        </MudItem>
        <MudItem xs="12" sm="9">
            <HgTextField LeftMargin="Breakpoint.Sm" T="string" Label="@SelectedQueryType.ToString()" @bind-Value="QueryParameter" />
        </MudItem>
        <MudItem Class="d-flex justify-end" xs="12">          
            <HgButton TopMargin="Breakpoint.Always" EndIcon="@Icons.Material.Filled.Search" Variant="Variant.Filled" Color="Color.Primary" @onclick="Search">Search</HgButton>
        </MudItem>
    </MudGrid>
</MudForm>
<MudTable Class="mt-3" Items="MessagingVerifications()"  Breakpoint="Breakpoint.Md" HorizontalScrollbar="true">
    <HeaderContent>
        <MudTh>HDID</MudTh>
        <MudTh>Email</MudTh>
        <MudTh>Email Verified</MudTh>
        <MudTh>Email Verified Date</MudTh>
        <MudTh>SMS</MudTh>
        <MudTh>SMS Verified</MudTh>
        <MudTh>SMS Verified Date</MudTh>
    </HeaderContent>
    <RowTemplate>
        <MudTd DataLabel="HDID">@context.UserProfileId</MudTd>
        <MudTd DataLabel="Email">@context.Email?.Id</MudTd>
        <MudTd DataLabel="Email Verified">false</MudTd>
        <MudTd DataLabel="Email Verified Date">31/12/2020 11:59 PM</MudTd>
        <MudTd DataLabel="SMS">250‑867‑5309</MudTd>
        <MudTd DataLabel="SMS Verified">@context.SMSNumber</MudTd>
        <MudTd DataLabel="SMS Verified Date">01/01/2021 12:01 AM</MudTd>
    </RowTemplate>
    <PagerContent>
        <MudTablePager />
    </PagerContent>
</MudTable>

