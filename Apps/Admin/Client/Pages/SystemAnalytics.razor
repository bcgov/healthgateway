@page "/analytics"
@attribute [Authorize(Roles = Roles.Admin)]
@using HealthGateway.Admin.Client.Store.Analytics
@inherits Fluxor.Blazor.Web.Components.FluxorComponent
@inject IJSRuntime JSRuntime

<PageTitle>Analytics</PageTitle>
<HgPageHeading>Analytics</HgPageHeading>

<HgBannerFeedback Severity="Severity.Error" IsEnabled="HasError()" TResetAction="AnalyticsActions.ResetInactiveUsersStateAction">
    @InactiveUsersState.Value.InactiveUsersReport.RequestError?.Message
</HgBannerFeedback>

<MudGrid>
    <MudItem xs="3">
       <HgButton TopMargin="Breakpoint.Always" EndIcon="@Icons.Material.Filled.Download" FullWidth="@true" Variant="Variant.Filled" Color="Color.Primary" @onclick="@(() => GetProfilesData())">User Profiles</HgButton>
    </MudItem>
    <MudItem xs="3">
         <HgButton TopMargin="Breakpoint.Always" EndIcon="@Icons.Material.Filled.Download" FullWidth="@true" Variant="Variant.Filled" Color="Color.Primary" @onclick="@(() => GetCommentsData())">User Comments</HgButton>
    </MudItem>
    <MudItem xs="3">
        <HgButton TopMargin="Breakpoint.Always" EndIcon="@Icons.Material.Filled.Download" FullWidth="@true" Variant="Variant.Filled" Color="Color.Primary" @onclick="@(() => GetNotesData())">User Notes</HgButton>
    </MudItem>
     <MudItem xs="3">
         <HgButton TopMargin="Breakpoint.Always" EndIcon="@Icons.Material.Filled.Download" FullWidth="@true" Variant="Variant.Filled" Color="Color.Primary" @onclick="@(() => GetRatingsData())">User Ratings</HgButton>
    </MudItem>
     <MudItem xs="3">
          <HgTextField T="int" Label="Inactive Days" Required="@true" @bind-Value="InactiveDays" />
             <HgButton TopMargin="Breakpoint.Always" EndIcon="@Icons.Material.Filled.Download" Variant="Variant.Filled" Color="Color.Primary" @onclick="@(() => GetInactiveUsersData())">Download</HgButton>
     </MudItem>
</MudGrid>

